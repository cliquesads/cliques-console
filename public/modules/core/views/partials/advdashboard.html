<section data-ng-controller="AdvertiserDashboardController">
    <div class="jumbotron text-center" ng-show="allCampaigns.length == 0">
        <div class="text-center">
            Thanks for being a part of the Cliques Beta Program!
        </div>
        <br>
        <div class="row">
            <p class="lead">
                It looks like you haven't set up any campaigns yet.  <strong>Let's change that now.</strong>
            </p>
        </div>
        <div class="row">
            <p>
                <a class="btn btn-primary btn-lg" href="#!/advertiser/create">Get Started</a>
            </p>
        </div>
    </div>
    <section ng-show="allCampaigns.length > 0">
        <div class="row">
            <!-- My Campaigns Section -->
            <div class="col-lg-6 col-sm-12">
                <em class="custom-section-title mb">My Campaigns</em>
                <!-- scroll up campaigns button -->
                <div ng-if="showingCampaignEndIndex > 1">
                    <button class="btn btn-block btn-third-white-horizontal width-90"
                        ng-click="scrollUpShowingCampaigns()">
                        <span>Up&nbsp;</span>
                        <i class="fa fa-sort-asc fa-2x"></i>
                    </button>
                </div>

                <a
                    data-ng-repeat="campaign in currentlyShowingCampaigns track by campaign._id"
                    data-ng-href="#!/advertiser/{{campaign.parentAdvertiserId}}/campaign/{{campaign._id}}"
                    class="campaign-list-item">
                    <div class="width-15">
                        <div class="label" ng-class="campaign.active ? 'label-success':'label-default'">{{ campaign.active ? "Active":"Inactive"}}</div>
                    </div>
                    <div class="width-20">
                        <img src="{{ campaign.adv_logo_url }}" alt="Adv Logo" class="adv-logo">
                    </div>
                    <div class="width-35">
                        <h4 class="campaign-list-item-heading" data-ng-bind="campaign.name"></h4>
                        <p class="campaign-list-item-text">{{ campaign.clique }}</p>
                    </div>
                    <div class="width-15">
                        <!--<radial percent="campaign.percent_spent" size="sm"></radial>-->
                        <radial percent="0.86" size="sm"></radial>
                    </div>

                    <div class="hidden-xs width-15">
                        <!--<h4 class="campaign-list-item-heading">{{ (campaign.ctr||0) | percentage:"2" }}</h4>-->
                        <h4 class="campaign-list-item-heading">0.22%</h4>
                        <p class="campaign-list-item-text">CTR</p>
                    </div>
                </a>
                <!-- scroll down campaigns button -->
                <div ng-if="showingCampaignEndIndex < (allCampaigns.length - 1)">
                    <button class="btn btn-block btn-third-white-horizontal width-90"
                        ng-click="scrollDownShowingCampaigns()">
                        <span ng-if="showingCampaignEndIndex <= 1">
                            More&nbsp;
                        </span>
                        <span ng-if="showingCampaignEndIndex > 1">
                            Down&nbsp; 
                        </span>
                        <i class="fa fa-sort-desc fa-2x mt-lg-neg"></i>
                    </button>
                </div>

            </div>
            <!-- End of My Campaigns Section -->

            <!-- Year-To-Date Stats Section -->
            <div class="col-lg-6 col-sm-12 pl-xl">
                <em class="custom-section-title mb">Year-To-Date Stats</em>
                <div class="stat-block">
                    <div class="text-center stat-icon">
                        <i class="fa fa-eye fa-3x"></i>
                    </div>
                    <div class="stat-value">
                        <div class="value-text">
                            <strong>{{ adStats[0].imps | number:"0" }}</strong>
                        </div>
                        <div class="note-text text-uppercase">Impressions</div>
                    </div>
                </div>

                <div class="stat-block">
                    <div class="text-center stat-icon">
                        <i class="fa fa-usd fa-3x"></i>
                    </div>
                    <div class="stat-value">
                        <div class="value-text">
                            <strong>{{ adStats[0].spend | currency:"$":"0" }}</strong>
                        </div>
                        <div class="note-text text-uppercase">Total Ad Spend</div>
                    </div>
                </div>

                <div class="stat-block"
                    ng-if="isShowingAllStats">
                    <div class="text-center stat-icon">
                        <i class="fa fa-mouse-pointer fa-3x"></i>
                    </div>
                    <div class="stat-value">
                        <div class="value-text">
                            <strong>{{ adStats[0].clicks / adStats[0].imps | percentage:2 }}</strong>
                        </div>
                        <div class="note-text text-uppercase">CTR</div>
                    </div>
                </div>

                <div class="stat-block"
                    ng-if="isShowingAllStats">
                    <div class="text-center stat-icon">
                        <i class="fa fa-shopping-cart fa-3x"></i>
                    </div>
                    <div class="stat-value">
                        <div class="value-text">
                            <strong>{{ adStats[0].view_convs +  adStats[0].click_convs }}</strong>
                        </div>
                        <div class="note-text text-uppercase">Total Actions</div>
                    </div>
                </div>

                <!-- Show more stats button -->
                <div ng-if="!isShowingAllStats">
                    <button class="btn btn-block btn-third-white-horizontal"
                        ng-click="showMoreStats()">
                        <span>More&nbsp;</span>
                        <i class="fa fa-sort-desc fa-2x mt-lg-neg"></i>
                    </button>
                </div>

                <!-- Hide more stats button -->
                <div ng-if="isShowingAllStats">
                    <button class="btn btn-block btn-third-white-horizontal"
                        ng-click="hideMoreStats()">
                        <span>Hide&nbsp;</span>
                        <i class="fa fa-sort-up fa-2x"></i>
                    </button>
                </div>
            </div>
            <!-- End of Year-To-Date Stats Section -->
        </div>
    </section>
    <section ng-show="advertisers.length > 0">
        <br/><br/>
        <em class="custom-section-title">Recent Screenshots</em>
        <br/><br/>
        <div class="screenshots-showcase">
            <!-- Last screenshot button -->
            <div ng-if="showingScreenshotEndIndex > 2">
                <button class="btn btn-third-white-vertical"
                    ng-click="showLastScreenshot()">
                    <i class="fa fa-chevron-left color-white"></i>
                </button> 
            </div>
        
            <!-- Screenshot images -->
            <div class="screenshot"
                ng-repeat="screenshotImage in currentlyShowingScreenshots track by screenshotImage.id">
                <img src="{{ screenshotImage.url }}" alt="Screenshot" ng-click="viewScreenshot(screenshotImage)">
            </div>            

            <!-- Next screenshot button -->
            <div ng-if="showingScreenshotEndIndex < screenshotImages.length - 1">
                <button class="btn btn-third-white-vertical"
                    ng-click="showNextScreenshot()">
                    <i class="fa fa-chevron-right color-white"></i>
                </button> 
            </div>
        </div>
    </section>
</section>